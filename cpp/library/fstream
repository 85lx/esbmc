#ifndef STL_FSTREAM
#define STL_FSTREAM

#include "streambuf"
#include "string"
#include "istream"
#include "ostream"
#include "definitions.h"
#include "ios"

namespace std
{

struct fstream: istream, ostream {
  fstream ();
  explicit fstream ( const char * filename,
                     openmode mode = in | out );
  istream& read ( char* s, streamsize n );
  ostream& write ( const char* s , streamsize n );
};

struct ofstream:  ostream, ios {
  ofstream();
  void open ( const char * filename, ios_base::openmode mode = ios_base::out );
  explicit ofstream ( const char * filename, ios_base::openmode mode = ios_base::out );
  void close ( );
  ostream& write ( const char* s , streamsize n );
};

struct ifstream: istream{
  ifstream ( );
  explicit ifstream ( const char * filename, ios_base::openmode mode = ios_base::in );
  void close ( );
  bool is_open ( );
  istream& read ( char* s, streamsize n );
  istream& getline(char str[], int size, char delim = '\n');


  inline bool operator&& (bool other);
};

struct filebuf{};

fstream::fstream ( const char * filename,
  openmode mode = in | out )
  : istream(),
    ostream()
{
  if(!stcmp(filename,""))
    failbit = true; // TODO: correct this! This line is for test only!
}

}


#endif
